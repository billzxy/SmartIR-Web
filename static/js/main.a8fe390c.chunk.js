(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(36).concat([function(e){e.exports=[{id:"20190724143458",filename:"pano-20190724143458-mx.png",coord:{lat:42.36000896,lng:-71.05425626},calibration:2.1959999999999638,neighborhood:"quincy"},{id:"20190724143833",filename:"pano-20190724143833-mx.png",coord:{lat:42.36000888,lng:-71.05416259},calibration:2.6039999999999637,neighborhood:"quincy"},{id:"20190724145944",filename:"pano-20190724145944-mx.png",coord:{lat:42.36014171,lng:-71.0525956},calibration:-2.368000000000113,neighborhood:"atlave"},{id:"20190724151238",filename:"pano-20190724151238-mx.png",coord:{lat:42.35946,lng:-71.05190878},calibration:-2.872000000000005,neighborhood:"atlave"},{id:"20190724151553",filename:"pano-20190724151553-mx.png",coord:{lat:42.35901057,lng:-71.05173236},calibration:-.5760000000000074,neighborhood:"atlave"},{id:"20190724150711",filename:"pano-20190724150711-mx.png",coord:{lat:42.35976055,lng:-71.05235965},calibration:-1.352814692820381,neighborhood:"atlave"},{id:"20190925112226",filename:"pano-20190925112226-mx.png",calibration:-2.9,neighborhood:["caa","cab"],coord:{lat:42.45954294,lng:-71.35375977}},{id:"20190925112242",filename:"pano-20190925112242-mx.png",calibration:-2.252,neighborhood:"cab",coord:{lat:42.45956467,lng:-71.35345682}},{id:"20190925113249",filename:"pano-20190925113249-mx.png",calibration:-2.98,neighborhood:"caa",coord:{lat:42.45957315,lng:-71.35418699}},{id:"20190925112410",filename:"pano-20190925112410-mx.png",calibration:-2.444,neighborhood:"caa",coord:{lat:42.45966985,lng:-71.35391209}},{id:"20190925111418",filename:"pano-20190925111418-mx.png",calibration:-2.82,neighborhood:"cdt",coord:{lat:42.45969867,lng:-71.35140942}},{id:"20190925112757",filename:"pano-20190925112757-mx.png",calibration:-2.17,neighborhood:"caa",coord:{lat:42.45996776,lng:-71.35447809}},{id:"20190925110216",filename:"pano-20190925110216-mx.png",calibration:-1.7,neighborhood:"cdt",coord:{lat:42.45950405,lng:-71.35144528}},{id:"20190925112004",filename:"pano-20190925112004-mx.png",calibration:-2.91,neighborhood:"cab",coord:{lat:42.45927407,lng:-71.35335518}},{id:"20190925113346",filename:"pano-20190925113346-mx.png",calibration:-2.14,neighborhood:"caa",coord:{lat:42.45954963,lng:-71.354371}},{id:"20190925110449",filename:"pano-20190925110449-mx.png",calibration:-1.35,neighborhood:"cdt",coord:{lat:42.45962005,lng:-71.35099675}},{id:"20190925112944",filename:"pano-20190925112944-mx.png",calibration:-2.15,neighborhood:"caa",coord:{lat:42.45980487,lng:-71.35493824}},{id:"20190925111251",filename:"pano-20190925111251-mx.png",calibration:-1.82,neighborhood:"cdt",coord:{lat:42.45976744,lng:-71.35109601}},{id:"20190925111017",filename:"pano-20190925111017-mx.png",calibration:-3.38,neighborhood:"cdt",coord:{lat:42.45994194,lng:-71.35046685}},{id:"20190925112929",filename:"pano-20190925112929-mx.png",calibration:-2.77,neighborhood:"caa",coord:{lat:42.45967437,lng:-71.35489279}},{id:"20190925110659",filename:"pano-20190925110659-mx.png",calibration:-2.86,neighborhood:"cdt",coord:{lat:42.45980818,lng:-71.35042955}},{id:"20190925112754",filename:"pano-20190925112754-mx.png",calibration:-3.01,neighborhood:"caa",coord:{lat:42.4598957,lng:-71.35475797}},{id:"20190925112418",filename:"pano-20190925112418-mx.png",calibration:-2.94,neighborhood:"caa",coord:{lat:42.45977151,lng:-71.35404583}},{id:"20190925111907",filename:"pano-20190925111907-mx.png",calibration:2.82,neighborhood:"cab",coord:{lat:42.4594054,lng:-71.35342462}},{id:"20190925111628",filename:"pano-20190925111628-mx.png",calibration:-3.05,neighborhood:"cdt",coord:{lat:42.45958235,lng:-71.35173774}},{id:"20190925113109",filename:"pano-20190925113109-mx.png",calibration:-2.95,neighborhood:"caa",coord:{lat:42.45951864,lng:-71.35461781}}]},,,,,,,,,,,,,,function(e,t,n){var o={"./pano-20190724143458-mx.png":130,"./pano-20190724143833-mx.png":131,"./pano-20190724145944-mx.png":132,"./pano-20190724150711-mx.png":133,"./pano-20190724151238-mx.png":134,"./pano-20190724151553-mx.png":135,"./pano-20190925110216-mx.png":136,"./pano-20190925110449-mx.png":137,"./pano-20190925110659-mx.png":138,"./pano-20190925111017-mx.png":139,"./pano-20190925111251-mx.png":140,"./pano-20190925111418-mx.png":141,"./pano-20190925111628-mx.png":142,"./pano-20190925111907-mx.png":143,"./pano-20190925112004-mx.png":144,"./pano-20190925112226-mx.png":145,"./pano-20190925112242-mx.png":146,"./pano-20190925112410-mx.png":147,"./pano-20190925112418-mx.png":148,"./pano-20190925112754-mx.png":149,"./pano-20190925112757-mx.png":150,"./pano-20190925112929-mx.png":151,"./pano-20190925112944-mx.png":152,"./pano-20190925113109-mx.png":153,"./pano-20190925113249-mx.png":154,"./pano-20190925113346-mx.png":155};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=50},,,function(e){e.exports={quincy:{type:"linear",map:["20190724143458","20190724143833"]},cdt:{type:"irregular",map:{20190925111628:["20190925111418","20190925110216"],20190925110216:["20190925111628","20190925111418","20190925110449"],20190925111418:["20190925111628","20190925110216","20190925111251"],20190925111251:["20190925111418","20190925110449","20190925111017"],20190925110449:["20190925110216","20190925111251","20190925110659"],20190925110659:["20190925110449","20190925111017"],20190925111017:["20190925110659","20190925111251"]}},caa:{type:"circular",map:["20190925112410","20190925112226","20190925113249","20190925113346","20190925113109","20190925112929","20190925112944","20190925112754","20190925112757","20190925112418"]},cab:{type:"linear",map:["20190925112226","20190925112242","20190925111907","20190925112004"]},atlave:{type:"linear",map:["20190724151553","20190724151238","20190724150711","20190724145944"]}}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(159)},,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAA0CAYAAAAqunDVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9kEGAgqEZIAg5UAAAs7SURBVGjevZpbjF1ndcd//31mxmOPx/bEcWKcQBOapKkTBTBY3KFKC6nacBHhgbZSURHwQOAFzhY8cBEXCcE5AokHUFUEqHmIkCo1KomQgkqlJqFABCgxIcVuSNI4xOPY4xmP537O/vOw197nm+PbmRtbGp05l/3tb31rff/1X//1ic2+2gbIAAENoIEN0gh2gdQBjF2+ln8Feda7v6kNTWH9d7cK6omU70eBUaShMCRDysKAeJoIA8EWUoHdRepiryAt0NTKRtdV6/JEU6VRIKQxYGcYAbaRynFt18+Ij2oD4cK/gxXgLLBUL1r/Am6qUT2DMqSd2DvCG5Ux6ZjVhDthVBGfqQ7N0kAnXnTy/TLSHE3NrzUsteZwaxXbkXYDWYRSFV6VR4w9B8wjdS46kbbB3oa0A3t7b0aJceVYBdJpmuoMapjW5B3YA2wHivr+0jsd7AWkeewhpB3AbuwJpJ3ASEyUCLkF7LPAGWAWaR4Q9k5gWwBNtUDVYs1gz5Fnl/WaBjRoGGkiJuz63nIVp2lqkbYPANcDY9gjMTGvAojV/1eT7WAvIU1jHyXPZml7HNgVIJPuyyXsKfLMG/NUqxgG9vWBgIFFYBq4CrgtjOnWAHAhxKshwqwarzfxIWASeDy8vhdpuA9MloHTlzJs6LL7SNqWAEHpHTiJtAv79WFwAXRqqLYbETozwBzSbO01exhpHHssvNEFijB6BftKpLdiP4/0ZKDqFckCDSM1gM76jJKgqXMJ2nXJs0navh771vhVN0JR4aVZ4Cns4wmI7Ad2R0gejZxk7CHg5cANATyKkBPwUuyrgEfCe/vieVM01dlo+BGbcwf2InArcF0fWBRhxDFgHPsWpFuBlwH767Asr0bkouPAs0hHgCexh4GbkK6OsZ0k6CNIJ7EhzxYvl7e0Rji/DumVtevtDDiH9BD2PqR/Cq+MJPunl2TTPZXCt7SI/TjSPRGSrw3jHVGwAjxMnp0bBNa1jsT75xEuID0NHMO+A+kdsZlTD2YRcivYy/G87UkuKhKEHAbOYt+D9CRwGJiIUP0lTZ3YGkbRC8WbsWeBBeBupOsiV1VgMoI0A/wceAz7RWA+Vn8MuBY4BBwOAzt1TpIy7P8hz75DqzgInCDPptZCldbO/VJmAa1YYSdAcQb4N+AX2Dcj3Y59YyDaCaSngIew/xt4EXg38MbgkBVtGgKep6nP/fFYehWKbd8JvDP2yALSvcBzwN3YdwE3rULS1TkKpIeB78Qi3IH99joHSt+iqf9dK5ndWOnR89xdwJuQPge8AfvfkbYl9Ob8e3rcrgKN55Fej70f6YPYbfLs2HoM2rhRPfCYQLob+GISQoOOXSHcOaT3Yf+IPFveSLGYRaVa1UfrvT6A/cUkF2nNC1sS3/uRXrU5RWLJ74zUpSmf54lLh9+7gPtWFX3rvUr07GDfRJ49s6ZoWUWTyrpmd6BYl1axFFRnhKYWL1q+lwMeAP5l0/ZnuSjDSJ8H3j/QorqOtJHgqSui7Sx4VSN+NBcP+AtgLtDsd6EluPZkuRifQGpvunhT8cWSZ642rBJ2SmJ7LU09Rdv7gmaBtCjabkT5oEh+LwbleU0w8iGk+4H3ROH3NPAk0nHsJ5AObrJBVRjfS1N/H14YA/40GP9MlDq7or57IArLHZEmikrKypJNvox0VfL+LE2tYN8GvAbpvUh/ib0bOLjpXurVYn8XBn0B+CrSR4G/xl6K8r+LtIJ9FXanlhYgy4DhpADrhqtHksdU4XhNAr9PA3/LVl1V/moVtyA1on4qkG5BOlfzy9KQsWD9dRrJEsmKpJAbCzQrmULbY9gN7IoOnUX6MyS21LByr09FNaB4/ngSRQ6t0elcsosM6MTYLrAfqYhYXwJOYU/0LQhbFIqTfcg6dEH0S+aSXRaFyoHPJQMPA+NRR7HFl4PVuw/2L+bZMGq1cqoLFHHbyLPJJFQzYFsoO1tskgvgGqCo66+mTq9Sfav9t8pT5Y2rPVfCpsJTO+K7MzGIgYPY98aCeEs8VE7yCNK28E6GNE3bo8niK8SdBn1GdJEUkxWtYgiYSdw5Hq9HYxAj3QgciyJRW+AhIf02VKrRWOgG8FjMp1r8DOlUbIkKSMjCtZ2YnCORnUkk5RFaxQT20VoKhhuBfdjf3kLk+wj2ochJDpX3Z8DeJJcZexZpuNbxpeUs4LCbDLkdez7ESsV3NwBP1J+VEvP7ge8CS7WkvHmeOkJTP0b6m6SqPkGePQdcnRg+RZ4V4anq3uWMpozdrS0vY7iDgsyWe+4A0umAcqKfdAMwjf1Aotpuxl7qIjVpFW8DroxxM+BHtIpdwN4k0R6nVQzXObQ0dLGC9KUELo29DXuyhvQyRK8F7kMaTZDmH4C7gJ9seG/1WM3XsX+DdFdo7CDNYT+ayHOK10mk8Yg2BdPoVEbNJ8BgYAdwLJSdyoMvI88ew/51osldF3rEX8Xn6QTXhnTlPvky0qeAD9d9KrsB/CwmvQe7iDnNAPPJniP0waKsfMs6aTHJUUN1bEMjDN5Jq7gV+Gek2bqFI70a+Efgduz/SJiAB/BO2g76LPA17I/VPLPkfb+jqXuxb6vTj9TAfgoYr9lPOdYieUaW1CrTSQIWcAXwDNLZeF8gvTwU1O8ndGUZOBQaxfuw7wwg0UWTc69XBfAr4AD2d5E+Gcy/6vvOAN+kVRxE2lXDOEySZyeiV+Y6JeXZXI9BtGv+NBEKarU5T0et9YokTIz9IPBW4L1JKsgCQO5B+gX2u4EPIe3H3rOqrwUnsY+FbngE+w7gPUhLCTAsYH8rmnKvTRTeDtKD2DtrrbBco7OVLK2+8nwEe2/y8Kptcwj7mrrDUYbqfyIdxv5QGFOpswJOAc8C/xpJc88qUcaeQroFeB1wfTDvIlmcWeyvxvvDtdfL18eRTgB7k0hYieIW8iwxqidQXoE9WjMMWKSpKdq+vY9cNrD/K3pNH49WD8l9C8CXaOrUBcSa0Qi1A30KlLGfBb4R4X8oWEW1GC+QZ4/S9kv6+OkZ8mzxfJberIntVBzgqGjHKG3vwn4oEm21VwrgzdjbkT6NfR9wDhiNjXsyjg6cf+XZIvbvE4K8Hfsk9veArwA3Ih2KxO945iR59iit4soEXIS9lBp0fulRKUb2mb7NvDM42I+RFmqDy1C5GftNwMNIecjIc8D/09TyJajQb8PbLwAt8uwzIfLciXRtX/dkGunntL0vTs4QYd4Fpvp1S11CzxtD2hPN6opkzkTj7TDS1dFMqx7cCMZxLDp/o/0r2Df+eFStp6JreD3SRNL2rMjzszR1hFaxN0qetIA9RZ6t9CtOl+vOj2PvSg52GHspypA/AV5ZS2eVdl4dBGnqgQFaQm/BHoujP6TiSRj0SDTL99V95F6z7xR5tnQhPTK7jPI5G/skTaajSPuA57AfRJoKbypJvNOrUsX5e4q6RkvPWJTP6QDPkWc/iDDenzTGq/1cGtQjDus4HFKCwRVUp77KUHQg3ExocC+N5tso9k/Js+MDjD0B3B57Ywk4CrwQOWlPvX96DTlHI3vpUh2RbCAqk2cL2KeCd6ULsQP7QPz/BE3dDzyCdPyiXkpD0J7G/j/sn9DUD4FnIp1cHTJdet6pJLCXMWhw/bvXsmkAu5C2rzos1YPYJWAOe3HgvlKraIRkMFrXRf2Ht8pW7DnyzIPo64M9uToKl2fd2AdTwQVV8y7HASoYGVhlKr25E3scezhZKNVdeXsSaXZQgzbW8y0nNRakcriO+b7sPoBh1eGs9BTaEtJ83XVZY0dx7b3HsoldeXAu9tqL0f7pJAx70Gs5PLQc2sjJAIPyEMg6WqR/AP8TaUdhTpMSAAAAAElFTkSuQmCC"},,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/rotating.4957277e.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAACXBIWXMAAAAcAAAAHAAPAbmPAAAAIVBMVEUAAABVnbVRnbVRnbVdpb2l4fpVnb1dqcFVnblVobmFyeFl3ybiAAAAC3RSTlMAtb18tGwapUy9gIWpoGAAAABESURBVHja7f3HAcQwDMMAkFSzvf/A8V2aMgRfENRWAJBG0XITBuXl4tiWc0XEmkyYfrgLGehxxgnVxaWP7/P9Tr/f/h6CtgH6SIBB6wAAAABJRU5ErkJggg=="},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/compassBase.aa7ec710.svg"},function(e,t,n){e.exports=n.p+"static/media/compassDiamond.01b956a5.svg"},function(e,t,n){e.exports=n.p+"static/media/zoomerBase.72cda6d6.svg"},function(e,t,n){e.exports=n.p+"static/media/zoomerPlus.97ab4b97.svg"},function(e,t,n){e.exports=n.p+"static/media/zoomerMinus.f208fd9c.svg"},,function(e,t,n){e.exports=n.p+"static/media/pano-20190724143458-mx.072de3d6.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190724143833-mx.0732614b.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190724145944-mx.0c7531e1.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190724150711-mx.f67813cf.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190724151238-mx.3f9e7726.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190724151553-mx.c1e8bceb.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925110216-mx.15966b2a.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925110449-mx.5b18415f.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925110659-mx.a9cd19bd.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925111017-mx.d1eacec2.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925111251-mx.3a2748ab.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925111418-mx.80a5715d.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925111628-mx.c890f6ed.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925111907-mx.f5896ac6.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925112004-mx.7f51a340.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925112226-mx.a1e5bd11.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925112242-mx.4589189c.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925112410-mx.5e375cce.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925112418-mx.f8ad88bb.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925112754-mx.e2a0bfca.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925112757-mx.702d7268.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925112929-mx.dad914bf.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925112944-mx.fdd79d67.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925113109-mx.1c1e94e1.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925113249-mx.798912fc.png"},function(e,t,n){e.exports=n.p+"static/media/pano-20190925113346-mx.0775a445.png"},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(24),i=n.n(r),c=(n(78),n(4)),s=n(5),l=n(12),u=n(10),m=n(11),p=n(31),d=n(25),h=n(14),g=n(15);function f(){var e=Object(h.a)(["\n\tflex: 1;\n\tpadding: 2px;\n\tpadding-top: ","px;\n"]);return f=function(){return e},e}function v(){var e=Object(h.a)(["\n\tposition: fixed;\n\tz-index: 999;\n\ttop: 10px;\n\tright: 10px;\n\tpadding: 12px;\n\theight: 20px;\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: center;\n\tbackground-color: #f8f8f8;\n    box-shadow: 2px 2px gray;\n\tcursor: pointer;\n\t& .ir-nav-item {\n\t\tmargin-right: 0.5rem;\n\t\tmargin-left: 0.5rem;\n\t\ttext-decoration: none;\n\t\tcolor: rgba(0, 0, 0, 0.5);\n\t}\n\n\t& .ir-nav-item__active {\n\t\tcolor: #000000;\n\t}\n"]);return v=function(){return e},e}function b(){var e=Object(h.a)(["\n\twidth: 100vw;\n\theight: 100vh;\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return b=function(){return e},e}var y=g.a.div(b()),x=g.a.div(v()),w=g.a.div(f(),2),A=n(3),O=n.n(A),k=n(8),E=n(26),P=n(36),S=n(53);function j(e,t,n){if(!n)for(var o=0;o<e.length;o++){var a=[],r=!0,i=!1,c=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;a.push(e[o][u])}}catch(b){i=!0,c=b}finally{try{r||null==l.return||l.return()}finally{if(i)throw c}}return a}for(o=0;o<e.length;o++)if(e[o].id===n){if(0===t.length)return e[o];var m={},p=!0,d=!1,h=void 0;try{for(var g,f=t[Symbol.iterator]();!(p=(g=f.next()).done);p=!0){var v=g.value;m[v]=e[o][v]}}catch(b){d=!0,h=b}finally{try{p||null==f.return||f.return()}finally{if(d)throw h}}return m}}function C(e,t){if(Array.isArray(t)){var n=[],o=!0,a=!1,r=void 0;try{for(var i,c=t[Symbol.iterator]();!(o=(i=c.next()).done);o=!0){var s=i.value,l=M(e,S[s]);Array.prototype.push.apply(n,l)}}catch(u){a=!0,r=u}finally{try{o||null==c.return||c.return()}finally{if(a)throw r}}return n}return M(e,S[t])}function M(e,t){if(t.map.length<2)return[];switch(t.type){case"linear":for(var n=0;n<t.map.length;n++)if(e===t.map[n])return 0===n?[t.map[1]]:n===t.map.length-1?[t.map[t.map.length-2]]:[t.map[n-1],t.map[n+1]];break;case"circular":for(n=0;n<t.map.length;n++)if(e===t.map[n])return 0===n?[t.map[1],t.map[t.map.length-1]]:n===t.map.length-1?[t.map[t.map.length-2],t.map[0]]:[t.map[n-1],t.map[n+1]];break;case"irregular":return t.map[e]}}var I={getPanoFileNameById:function(e){return Promise.resolve({data:{data:j(P,["filename"],e)}})},getPanoCoordById:function(e){return Promise.resolve({data:{data:j(P,["coord"],e)}})},getAllPanoIdAndCoord:function(){return Promise.resolve({data:{data:P}})},getPanoAllAttrById:function(e){return Promise.resolve({data:{data:j(P,[],e)}})},getNeighborsById:function(e,t){return Promise.resolve({data:{data:C(e,t)}})}};function L(){var e=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  display: ",";\n\n  & > div {\n    width: 100%;\n    height: 100%;\n  }\n"]);return L=function(){return e},e}function z(){var e=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative !important;\n"]);return z=function(){return e},e}var B,R=n(97),D=Object(g.a)(E.Map)(z()),V=g.a.div(L(),function(e){var t=e.show;return void 0!==t&&t?"block":"none"}),T={boston:{lat:42.36,lng:-71.053},concord:{lat:42.45955,lng:-71.3525},center:{lat:42.4,lng:-71.2}},Y=function e(t){if(Array.isArray(t))return e(t[0]);switch(t){case"quincy":case"atlave":return"boston";case"caa":case"cab":case"cdt":return"concord"}return null},N=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(l.a)(this,Object(u.a)(t).call(this,e))).map=void 0,o.showGSV=!1,o.isClustererRendered=!1,o.markerClusterer=void 0,o.bounds=new o.props.google.maps.LatLngBounds,o.Clusterer=function(e){var t=e.map,a=e.google;return o.isClustererRendered?null:t?0===o.state.coords.length?null:(o.map=t,o.markerClusterer=new R(t,o.addMarkers(t,a),{styles:[{width:53,height:52,url:n(98),textColor:"white"}],gridSize:20,minimumClusterSize:6}),o.isClustererRendered=!0,null):null},o.state={coords:[]},o}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(k.a)(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.getAllPanoIdAndCoord().then(function(t){for(var n=[],o=t.data.data,a=0;a<o.length;a++)n.push({id:o[a].id,lat:o[a].coord.lat,lng:o[a].coord.lng,region:Y(o[a].neighborhood)});e.setState({coords:n})});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()()}},{key:"componentDidUpdate",value:function(e){if(this.map){var t=e.location.pathname.split("/")[1];"PUSH"===this.props.history.action&&"viewPano"===t&&(this.showGSV=!1),this.showGSV||this.map.streetView.setVisible(!1),"viewPano"===t&&(this.showGSV=!1)}}},{key:"setBounds",value:function(){var e=this.state.coords;if(e)for(var t=0;t<e.length;t++){var n=e[t];this.bounds.extend(new this.props.google.maps.LatLng({lat:n.lat,lng:n.lng}))}}},{key:"addMarkers",value:function(e,t){var n=this,o=this.state.coords;if(o)return o.map(function(o,a){var r=new t.maps.Marker({position:{lat:o.lat,lng:o.lng},map:e,title:o.id+"&"+o.region});return t.maps.event.addListener(r,"click",function(){n.gotoPano(r.title)}),r})}},{key:"gotoPano",value:function(e){var t=e.split("&"),n=t[0],o=t[1];this.map.streetView.visible&&(this.showGSV=!0),this.props.history.push("/maps/".concat(o)),this.props.history.push("/viewPano/".concat(n))}},{key:"goBack",value:function(){this.props.history.goBack(),console.log("go back")}},{key:"render",value:function(){return a.a.createElement(D,{ref:this.props.onMapMounted,google:this.props.google,zoom:11,center:T[this.region],initialCenter:T.center,bounds:this.bounds},a.a.createElement(this.Clusterer,null))}},{key:"region",get:function(){return this.props.match?this.props.match.params.region:"boston"}}]),t}(o.Component),F=Object(E.GoogleApiWrapper)({apiKey:"".concat("AIzaSyAwmnfBgRgSFnydLrrkAJ2gYBfarvA7Fu4")})(N),G=Object(d.f)(function(e){return Object(o.useEffect)(function(){return function(){console.log("GMap...dying")}},[]),a.a.createElement(V,{show:!!e.match},a.a.createElement(F,e))}),U=n(21),J=n(42),H=n(1),W=n(44),X=n(69),K=(n(100),n(32));function q(){var e=Object(h.a)(["\n\twidth: 100%;\n\theight: 100%;\n\n\t& > div {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n"]);return q=function(){return e},e}function Z(){var e=Object(h.a)(["\n\twidth: 100% !important;\n\theight: 100% !important;\n\tposition: relative !important;\n"]);return Z=function(){return e},e}var Q,_,$=Object(g.a)(E.Map)(Z()),ee=g.a.div(q()),te=function(){(Q=document.getElementsByClassName("Minimap")[0]).addEventListener("mouseover",function(e){return function(e){e.preventDefault(),Q.style.width="250px",Q.style.height="200px"}(e)},!1),Q.addEventListener("mouseout",function(e){return function(e){e.preventDefault(),Q.style.width="200px",Q.style.height="100px"}(e)},!1),(_=document.getElementsByClassName("InfoBox")[0]).addEventListener("mouseover",function(e){return function(e){e.preventDefault(),_.style.opacity="0.75"}(e)},!1),_.addEventListener("mouseout",function(e){return function(e){e.preventDefault(),_.style.opacity="0.5"}(e)},!1),_.addEventListener("mousedown",function(e){return function(e){e.preventDefault(),window.history.back()}(e)},!1)};var ne,oe,ae,re,ie,ce,se,le,ue,me=function(e){var t=e.id,o=e.lat,r=e.lng,i=e.pmanOffsetY,c=e.google,s=e.map,l=e.mapCenter,u=new c.maps.Point(8,9);i&&(u=new c.maps.Point(8,i));var m={url:n(101),size:new c.maps.Size(44,49),origin:u,anchor:new c.maps.Point(22,34),custom:!0};return a.a.createElement(E.Marker,{lid:t,position:{lat:o,lng:r},icon:m,key:t,google:c,map:s,mapCenter:l,zIndex:100})},pe=Object(K.a)(B=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(l.a)(this,Object(u.a)(t).call(this,e))).pStore=void 0,o.bounds=new o.props.google.maps.LatLngBounds,o.dotIcon={url:n(102),size:new o.props.google.maps.Size(11,11),origin:new o.props.google.maps.Point(0,0),anchor:new o.props.google.maps.Point(5.5,5.5)},o.state={showComp:!1},o.pStore=o.props.panoPageStore,o}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(k.a)(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.getAllPanoIdAndCoord().then(function(t){for(var n=[],o=t.data.data,a=0;a<o.length;a++)n.push({id:o[a].id,lat:o[a].coord.lat,lng:o[a].coord.lng});e.setState({coords:n,showComp:!0})});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()()}},{key:"showComponent",value:function(e){!0!==e&&!1!==e||this.setState({showComp:e})}},{key:"setBounds",value:function(){for(var e=0;e<this.state.coords.length;e++){var t=this.state.coords[e];this.bounds.extend(new this.props.google.maps.LatLng({lat:t.lat,lng:t.lng}))}}},{key:"addMarkers",value:function(){var e,t=this;this.setBounds();var n=1;return this.state.coords.map(function(o,r){if(t.state.coords[r].id!==t.pStore.id)return e=t.dotIcon,n++,a.a.createElement(E.Marker,{lid:o.id,position:{lat:o.lat,lng:o.lng},onClick:function(e){return t.gotoPano(e.lid)},icon:e,key:o.id,zIndex:n})})}},{key:"gotoPano",value:function(e){this.pStore.id=e}},{key:"render",value:function(){return this.state.showComp?a.a.createElement(a.a.Fragment,null,a.a.createElement($,{ref:this.props.onMapMounted,google:this.props.google,zoom:17,center:{lat:this.pStore.lat,lng:this.pStore.lng},initialCenter:{lat:this.pStore.lat,lng:this.pStore.lng},bounds:this.bounds,onReady:te,streetViewControl:!1,fullscreenControl:!1,mapTypeControl:!1,rotateControl:!1},a.a.createElement(me,{id:this.pStore.id,lat:this.pStore.lat,lng:this.pStore.lng,pmanOffsetY:this.pStore.pmanOffsetY}),this.addMarkers())):null}}]),t}(o.Component))||B,de=Object(E.GoogleApiWrapper)({apiKey:"".concat("AIzaSyAwmnfBgRgSFnydLrrkAJ2gYBfarvA7Fu4")})(Object(d.f)(pe)),he=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"backBox",value:function(){return a.a.createElement("div",null,a.a.createElement("span",null," \u2190 "))}},{key:"textBox",value:function(){return a.a.createElement("div",null)}},{key:"render",value:function(){return a.a.createElement(this.backBox,null)}}]),t}(o.Component),ge=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"Minimap"},a.a.createElement(ee,null,a.a.createElement(de,e))),a.a.createElement("div",{className:"InfoBox"},a.a.createElement(he,null)))},fe=n(22),ve=n(23),be=(n(103),n(2)),ye=(ne=function(){function e(t,n,o,a){Object(c.a)(this,e),Object(fe.a)(this,"lng",oe,this),Object(fe.a)(this,"lat",ae,this),Object(fe.a)(this,"id",re,this),Object(fe.a)(this,"pmanOffsetY",ie,this),Object(fe.a)(this,"cameraY",ce,this),Object(fe.a)(this,"reset",se,this),Object(fe.a)(this,"zoom",le,this),Object(fe.a)(this,"zoomLock",ue,this),this.lng=n,this.lat=t,this.id=a,this.cameraY=o,this.pmanOffsetY=this.setPegmanRotationOffsetYFromCameraY(o),this.zoom=0,this.zoomLock=!1}return Object(s.a)(e,[{key:"updateValues",value:function(e,t,n,o){this.lng=t,this.lat=e,this.id=o,this.cameraY=n,this.pmanOffsetY=this.setPegmanRotationOffsetYFromCameraY(n)}},{key:"updatePegmanOffset",value:function(e){this.cameraY=e,this.pmanOffsetY=this.setPegmanRotationOffsetYFromCameraY(e)}},{key:"setPegmanRotationOffsetYFromCameraY",value:function(e){var t=Math.ceil(180*-e/Math.PI);return t<0&&(t=360+t),9+60*Math.floor(t/22.5)}},{key:"zoomIn",value:function(){this.zoomLock||this.zoom>=2||this.zoom++}},{key:"zoomOut",value:function(){this.zoomLock||this.zoom<=0||this.zoom--}}]),e}(),oe=Object(ve.a)(ne.prototype,"lng",[be.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Object(ve.a)(ne.prototype,"lat",[be.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=Object(ve.a)(ne.prototype,"id",[be.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=Object(ve.a)(ne.prototype,"pmanOffsetY",[be.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=Object(ve.a)(ne.prototype,"cameraY",[be.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=Object(ve.a)(ne.prototype,"reset",[be.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=Object(ve.a)(ne.prototype,"zoom",[be.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=Object(ve.a)(ne.prototype,"zoomLock",[be.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne),xe=n(56),we=function(){function e(t){var n=this;Object(c.a)(this,e),this.coord={lat:0,lng:0},this.calibration=0,this.id=void 0,this.fname="",this.neighborhood="",this.neighborArr=void 0,this.cameraY=void 0,this.setAllAttr=Object(k.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getPanoAllAttrById(n.id).then(function(e){n.fname=e.data.data.filename,n.coord.lat=e.data.data.coord.lat,n.coord.lng=e.data.data.coord.lng,n.calibration=e.data.data.calibration,n.neighborhood=e.data.data.neighborhood});case 2:case"end":return e.stop()}},e)})),this.getNeighborIds=Object(k.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getNeighborsById(n.id,n.neighborhood).then(function(e){n.neighborArr=e.data.data});case 2:case"end":return e.stop()}},e)})),this.updateCalibration=function(){var e=Object(k.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:({calibration:-t.rotation.y}),alert("Update Calibration is disabled at this moment!");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.id=t}return Object(s.a)(e,[{key:"getDistanceTo",value:function(e){return xe.getDistance(this.coord,e.coord)}},{key:"getDistanceToNeighbors",value:function(e){return e.map(this.getDistanceTo)}},{key:"getBearingTo",value:function(e){return xe.getRhumbLineBearing(this.coord,e.coord)}},{key:"getBearingToNeighbors",value:function(e){return e.map(this.getBearingTo)}}]),e}(),Ae=function(){function e(){Object(c.a)(this,e),this.mesh=void 0,this.material=void 0,this.geometry=void 0,this.hitbox=void 0,this.id=void 0,this.geometry=new H.Geometry,this.geometry.vertices.push(new H.Vector3(0,0,0),new H.Vector3(1.5,-2,0),new H.Vector3(1.5,-.5,0),new H.Vector3(0,1.5,0),new H.Vector3(-1.5,-.5,0),new H.Vector3(-1.5,-2,0)),this.geometry.faces.push(new H.Face3(0,1,2),new H.Face3(0,2,3),new H.Face3(4,0,3),new H.Face3(5,0,4)),this.hitbox=new H.Geometry;this.hitbox.vertices.push(new H.Vector3(0,0,0),new H.Vector3(1.8,-2.3,0),new H.Vector3(1.8,-.2,0),new H.Vector3(0,1.8,0),new H.Vector3(-1.8,-.2,0),new H.Vector3(-1.8,-2.3,0)),this.hitbox.faces.push(new H.Face3(0,1,2),new H.Face3(0,2,3),new H.Face3(4,0,3),new H.Face3(5,0,4),new H.Face3(5,1,0))}return Object(s.a)(e,[{key:"onClickHandler",value:function(){}}]),e}();function Oe(){var e=Object(h.a)(["\n\t&,\n\t&:after {\n\t\tborder-radius: 50%;\n\t\twidth: ","px;\n\t\theight: ","px;\n\t}\n\t& {\n\t\tmargin: 60px auto;\n\t\tfont-size: 10px;\n\t\tposition: relative;\n\t\ttext-indent: -9999em;\n\t\tborder-top: 1.1em solid rgba(0, 0, 0, 0.1);\n\t\tborder-right: 1.1em solid rgba(0, 0, 0, 0.1);\n\t\tborder-bottom: 1.1em solid rgba(0, 0, 0, 0.1);\n\t\tborder-left: 1.1em solid ",";\n\t\t-webkit-transform: translateZ(0);\n\t\t-ms-transform: translateZ(0);\n\t\ttransform: translateZ(0);\n\t\t-webkit-animation: load8 1.1s infinite linear;\n\t\tanimation: load8 1.1s infinite linear;\n\t}\n\t@-webkit-keyframes load8 {\n\t\t0% {\n\t\t\t-webkit-transform: rotate(0deg);\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\t@keyframes load8 {\n\t\t0% {\n\t\t\t-webkit-transform: rotate(0deg);\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n"]);return Oe=function(){return e},e}var ke,Ee,Pe=g.a.div(Oe(),function(e){var t=e.width;return void 0===t?"48":t},function(e){var t=e.width;return void 0===t?"48":t},function(e){var t=e.color;return void 0===t?"#ea6c2f":t}),Se=Object(K.a)(ke=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(l.a)(this,Object(u.a)(t).call(this,e))).compassRotationReactionDisposer=void 0,o.cBaseSrc=n(124),o.cDiamondSrc=n(125),o.compassElement=void 0,o.compassHandlerInit=function(){o.compassElement=document.getElementById("compassDiamond"),o.compassElement.addEventListener("mouseup",function(e){return o.compassOnClick(e)},!1)},o.compassOnClick=function(e){e.preventDefault(),o.props.panoPageStore.reset=!0},o.CompassElement=function(){return a.a.createElement("div",null,a.a.createElement("div",{id:"compassBase"},a.a.createElement("img",{src:o.cBaseSrc,alt:"Compass"})),a.a.createElement("div",{id:"compassDiamond"},a.a.createElement("img",{src:o.cDiamondSrc,alt:"Compass"})))},o.RotateCompass=function(e){var t=Math.ceil(180*-e/Math.PI);t<0&&(t=360+t),document.getElementById("compassDiamond").style.transform="rotate(".concat(t,"deg)")},o}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setCompassRotationReaction(),this.compassHandlerInit()}},{key:"setCompassRotationReaction",value:function(){var e=this;this.compassRotationReactionDisposer=Object(be.l)(function(){return e.props.panoPageStore.cameraY},function(t,n){e.RotateCompass(t)})}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(this.CompassElement,null))}}]),t}(o.Component))||ke,je=Object(K.a)(Ee=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(l.a)(this,Object(u.a)(t).call(this,e))).zoomerReactionDisposer=void 0,o.zBase=n(126),o.zPlus=n(127),o.zMinus=n(128),o.zoomerInElement=void 0,o.zoomerOutElement=void 0,o.currZoomLevel=0,o.zoomerElementHandlerInit=function(){o.zoomerInElement=document.getElementById("zoomerIn"),o.zoomerOutElement=document.getElementById("zoomerOut"),o.zoomerInElement.addEventListener("mouseup",function(e){return o.zoomerInOnClick(e)},!1),o.zoomerOutElement.addEventListener("mouseup",function(e){return o.zoomerOutOnClick(e)},!1),o.zoomerInElement.addEventListener("mouseover",function(e){return o.zoomerInOver(e)},!1),o.zoomerOutElement.addEventListener("mouseover",function(e){return o.zoomerOutOver(e)},!1),o.zoomerInElement.addEventListener("mouseout",function(e){return o.zoomerInOut(e)},!1),o.zoomerOutElement.addEventListener("mouseout",function(e){return o.zoomerOutOut(e)},!1)},o.zoomerInOnClick=function(e){e.preventDefault(),o.props.panoPageStore.zoomIn()},o.zoomerOutOnClick=function(e){e.preventDefault(),o.props.panoPageStore.zoomOut()},o.zoomerInOver=function(e){e.preventDefault(),o.zoomerInElement.style.opacity=.5},o.zoomerOutOver=function(e){e.preventDefault(),o.zoomerOutElement.style.opacity=.5},o.zoomerInOut=function(e){e.preventDefault(),o.zoomerInElement.style.opacity=.2},o.zoomerOutOut=function(e){e.preventDefault(),o.zoomerOutElement.style.opacity=.2},o.ZoomerElement=function(){return a.a.createElement("div",null,a.a.createElement("div",{id:"zoomerBase"},a.a.createElement("img",{src:o.zBase,alt:"Zoom Controller"}),a.a.createElement("div",{id:"zoomerIn"},a.a.createElement("img",{src:o.zPlus,alt:"Zoom In"})),a.a.createElement("div",{id:"zoomerOut"},a.a.createElement("img",{src:o.zMinus,alt:"Zoom Out"}))))},o.RotateCompass=function(e){var t=Math.ceil(180*-e/Math.PI);t<0&&(t=360+t),document.getElementById("compassDiamond").style.transform="rotate(".concat(t,"deg)")},o}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setZoomerControlReaction(),this.zoomerElementHandlerInit()}},{key:"setZoomerControlReaction",value:function(){var e=this;this.zoomerReactionDisposer=Object(be.l)(function(){return e.props.panoPageStore.cameraY},function(e,t){})}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(this.ZoomerElement,null))}}]),t}(o.Component))||Ee,Ce=n(129),Me={0:40,1:35,2:30},Ie=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(l.a)(this,Object(u.a)(t).call(this,e))).currLoc=void 0,o.neighbors=void 0,o.panoPageStore=void 0,o.panoIdChangeReactionDisposer=void 0,o.panoViewDirectionResetReactionDisposer=void 0,o.panoZoomChangeReactionDisposer=void 0,o.canvasStyle={cursor:"default"},o.loaderSpinnerElem=void 0,o.animationLock=!1,o.wheelLockTemp=!1,o.eventListenersLoaded=!1,o.cylindergeometry=new H.CylinderBufferGeometry(20,20,15,100,1,!0),o.cylindermaterial=void 0,o.cylindermesh=void 0,o.texture=void 0,o.loader=new H.TextureLoader,o.lines=[],o.tempcylindergeometry=new H.CylinderBufferGeometry(21,21,15,100,1,!0),o.tempcylindermaterial=void 0,o.tempcylindermesh=void 0,o.threeCamera=void 0,o.threeScene=void 0,o.threeCanvas=void 0,o.cone0=void 0,o.cone1=void 0,o.cone2=void 0,o.conevis0=void 0,o.conevis1=void 0,o.conevis2=void 0,o.coneg0=void 0,o.coneg1=void 0,o.coneg2=void 0,o.pinSphereGeometry=new H.SphereGeometry(.5,16,16),o.pinNeedleGeometry=new H.CylinderGeometry(.075,.025,3,10,1,!1),o.pin0=void 0,o.pin1=void 0,o.pin2=void 0,o.n0=void 0,o.n1=void 0,o.n2=void 0,o.mouseSelectedArrowMesh=void 0,o.onScroll=function(e){o.wheelLockTemp||(o.wheelLockTemp=!0,e.path[0]===o.threeCanvas&&(e.wheelDeltaY>0&&o.panoPageStore.zoomIn(),e.wheelDeltaY<0&&o.panoPageStore.zoomOut()),o.wheelLockTemp=!1)},o.teleportToScene=function(){var e=Object(k.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.animationLock=!0,o.loaderSpinnerElem.style.visibility="visible",o.currLoc=new we(t),e.next=5,o.currLoc.setAllAttr().then(function(){o.texture=o.loader.load(n(50)("./".concat(o.currLoc.fname)),function(){o.loaderSpinnerElem.style.visibility="hidden",o.tempcylindermaterial=new H.MeshBasicMaterial({map:o.texture,side:H.DoubleSide}),o.tempcylindermesh=new H.Mesh(o.tempcylindergeometry,o.tempcylindermaterial),o.tempcylindergeometry.scale(-1,1,1),o.tempcylindermesh.rotation.y=o.currLoc.calibration,o.threeScene.add(o.tempcylindermesh),o.animateTeleportationTextureFade();var e=o.currLoc,t=e.coord,n=e.cameraY,a=e.id;o.panoPageStore.updateValues(t.lat,t.lng,n,a)},void 0,function(e){console.error(e)})});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),o.animateTeleportationTextureFade=function(){var e={at:o.cylindermaterial.opacity},t=new Ce.Tween(e).to({at:.1},500).easing(Ce.Easing.Quadratic.InOut);t.onUpdate(function(){o.cylindermaterial.opacity=e.at}),t.onComplete(Object(k.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.threeCamera.rotation.y=0,o.threeCamera.fov=40,o.threeCamera.updateProjectionMatrix(),o.cylindermaterial.map=o.texture,o.cylindermesh.rotation.y=o.currLoc.calibration,o.cylindermaterial.transparent=!1,o.cylindermaterial.opacity=1,o.threeScene.remove(o.tempcylindermesh),o.tempcylindermesh.geometry.dispose(),o.tempcylindermesh.material.dispose(),o.tempcylindermesh=void 0,o.tempcylindergeometry.scale(-1,1,1),e.next=14,o.setNeighbors().then(o.RenderArrows);case 14:o.animationLock=!1;case 15:case"end":return e.stop()}},e)}))),o.cylindermaterial.transparent=!0,t.start()},o.RenderSpinner=function(){return a.a.createElement("div",{className:"spinner-container"},a.a.createElement(Pe,{width:100,height:100}))},o.RenderArrows=function(){var e=o.neighbors.keys();o.n0=o.neighbors.get(e.next().value),console.log(o.currLoc.id);o.cone0.position.z=-7.5*Math.cos(o.n0.bearing*Math.PI/180),o.cone0.position.x=7.5*Math.sin(o.n0.bearing*Math.PI/180),o.cone0.rotation.x=-1.5708,o.cone0.rotation.z=-o.n0.bearing*Math.PI/180,o.conevis0.position.z=-7.5*Math.cos(o.n0.bearing*Math.PI/180),o.conevis0.position.x=7.5*Math.sin(o.n0.bearing*Math.PI/180),o.conevis0.rotation.x=-1.5708,o.conevis0.rotation.z=-o.n0.bearing*Math.PI/180,o.coneg1.visible=!1,o.coneg2.visible=!1,o.neighbors.size>1&&(o.n1=o.neighbors.get(e.next().value),o.coneg1.visible=!0,o.cone1.position.z=-7.5*Math.cos(o.n1.bearing*Math.PI/180),o.cone1.position.x=7.5*Math.sin(o.n1.bearing*Math.PI/180),o.cone1.rotation.x=-1.5708,o.cone1.rotation.z=-o.n1.bearing*Math.PI/180,o.conevis1.position.z=-7.5*Math.cos(o.n1.bearing*Math.PI/180),o.conevis1.position.x=7.5*Math.sin(o.n1.bearing*Math.PI/180),o.conevis1.rotation.x=-1.5708,o.conevis1.rotation.z=-o.n1.bearing*Math.PI/180),3===o.neighbors.size&&(o.n2=o.neighbors.get(e.next().value),o.coneg2.visible=!0,o.cone2.position.z=-7.5*Math.cos(o.n2.bearing*Math.PI/180),o.cone2.position.x=7.5*Math.sin(o.n2.bearing*Math.PI/180),o.cone2.rotation.x=-1.5708,o.cone2.rotation.z=-o.n2.bearing*Math.PI/180,o.conevis2.position.z=-7.5*Math.cos(o.n2.bearing*Math.PI/180),o.conevis2.position.x=7.5*Math.sin(o.n2.bearing*Math.PI/180),o.conevis2.rotation.x=-1.5708,o.conevis2.rotation.z=-o.n2.bearing*Math.PI/180)},o.state={isLoading:!0},o.RenderPano=o.RenderPano.bind(Object(J.a)(o)),o}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(X.disableBodyScroll)(document.querySelector("#interface")),function(){var t=Object(k.a)(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.currLoc=new we(e.panoId),t.next=3,e.currLoc.setAllAttr().then(function(){e.loadTexture()});case 3:e.neighbors=new Map,e.setNeighbors();case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()}},{key:"componentWillUnmount",value:function(){console.log("Unmount pano...")}},{key:"setNeighbors",value:function(){var e=Object(k.a)(O.a.mark(function e(){var t,n,o,a,r,i,c,s=this;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.neighbors.clear(),e.next=3,this.currLoc.getNeighborIds();case 3:if(0!==(t=this.currLoc.neighborArr).length){e.next=9;break}return console.log("No neighbors discorvered..."),e.abrupt("return");case 9:n=!0,o=!1,a=void 0,e.prev=12,r=O.a.mark(function e(){var t,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.value,n=new we(t),e.next=4,n.setAllAttr().then(function(){s.addNeighbor(n)});case 4:case"end":return e.stop()}},e)}),i=t[Symbol.iterator]();case 15:if(n=(c=i.next()).done){e.next=20;break}return e.delegateYield(r(),"t0",17);case 17:n=!0,e.next=15;break;case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(12),o=!0,a=e.t1;case 26:e.prev=26,e.prev=27,n||null==i.return||i.return();case 29:if(e.prev=29,!o){e.next=32;break}throw a;case 32:return e.finish(29);case 33:return e.finish(26);case 34:case"end":return e.stop()}},e,this,[[12,22,26,34],[27,,29,33]])}));return function(){return e.apply(this,arguments)}}()},{key:"addNeighbor",value:function(e){this.neighbors.set(e.id,{location:e,distance:this.currLoc.getDistanceTo(e),bearing:this.currLoc.getBearingTo(e)})}},{key:"toggleCursor",value:function(e){this.canvasStyle=e?{cursor:"pointer"}:{cursor:"default"}}},{key:"setPanoPageStoreIDChangeReaction",value:function(){var e=this;this.panoIdChangeReactionDisposer=Object(be.l)(function(){return e.panoPageStore.id},function(t,n){e.teleportToScene(t)})}},{key:"setCameraResetReaction",value:function(){var e=this;this.panoViewDirectionResetReactionDisposer=Object(be.l)(function(){return e.panoPageStore.reset},function(t,n){!0===t&&e.CameraLookNorth(e.threeCamera),e.panoPageStore.reset=!1})}},{key:"setZoomChangeReaction",value:function(){var e=this;this.panoZoomChangeReactionDisposer=Object(be.l)(function(){return e.panoPageStore.zoom},function(t,n){e.changeZoom()})}},{key:"loadTexture",value:function(){var e=this;this.texture=this.loader.load(n(50)("./".concat(this.currLoc.fname)),function(){e.panoPageStore=new ye(e.currLoc.coord.lat,e.currLoc.coord.lng,0,e.currLoc.id),e.setPanoPageStoreIDChangeReaction(),e.setCameraResetReaction(),e.setZoomChangeReaction(),e.setState({isLoading:!1})},void 0,function(e){console.error(e)}),this.cylindermaterial=new H.MeshBasicMaterial({map:this.texture,side:H.DoubleSide}),this.cylindermesh=new H.Mesh(this.cylindergeometry,this.cylindermaterial),this.cylindergeometry.scale(-1,1,1),this.cylindermesh.rotation.y=this.currLoc.calibration}},{key:"changeZoom",value:function(){var e=this;if(!this.animationLock){this.animationLock=!0,this.panoPageStore.zoomLock=!0,this.panoZoomChangeReactionDisposer();var t={at:this.threeCamera.fov},n={at:Me[this.panoPageStore.zoom]},o=new Ce.Tween(t).to(n,150).easing(Ce.Easing.Quadratic.InOut);o.onUpdate(function(){e.threeCamera.fov=t.at,e.threeCamera.updateProjectionMatrix()}),o.onComplete(function(){e.setZoomChangeReaction(),e.animationLock=!1,e.panoPageStore.zoomLock=!1}),o.start()}}},{key:"CameraLookNorth",value:function(e){var t=this;if(!this.animationLock){this.animationLock=!0,this.panoViewDirectionResetReactionDisposer();var n={at:e.rotation.y},o=new Ce.Tween(n).to({at:0},750).easing(Ce.Easing.Quadratic.InOut);o.onUpdate(function(){e.rotation.y=n.at,t.panoPageStore.updatePegmanOffset(e.rotation.y)}),o.onComplete(function(){e.rotation.y=0,t.panoPageStore.updatePegmanOffset(0),t.setCameraResetReaction(),t.animationLock=!1}),o.start()}}},{key:"RenderPano",value:function(){var e=this;this.loaderSpinnerElem=document.getElementById("trans-spinner");var t=Object(W.c)(),r=t.gl,i=t.camera,c=t.scene,s=t.canvas,l=t.raycaster;this.threeCamera=i,this.threeScene=c,this.threeCanvas=s,i.fov=40,r.setSize(s.clientWidth,s.clientHeight),i.position.set(0,0,0),i.lookAt(0,0,0);var u=new Ae,m=Object(o.useRef)(),p=Object(o.useRef)(),d=Object(o.useRef)(),h=Object(o.useRef)();this.cone0=m.current,this.cone1=p.current,this.cone2=d.current;var g=Object(o.useRef)();this.conevis0=g.current;var f=Object(o.useRef)();this.conevis1=f.current;var v=Object(o.useRef)();this.conevis2=v.current;var b=Object(o.useRef)();this.coneg0=b.current;var y=Object(o.useRef)();this.coneg1=y.current;var x,w,A,E=Object(o.useRef)();this.coneg2=E.current;var P=[x,w,A],S={x:0,y:0},j=new Ae,C=Object(o.useRef)(),M=!1,I=[],L=new H.PlaneGeometry(40,40),z=new H.MeshBasicMaterial({color:"grey",side:H.DoubleSide,opacity:0,transparent:!0}),B=new H.Mesh(L,z);B.rotation.set(-1.5708,0,0),B.position.set(0,-1,0),c.add(B);if(this.cone0&&this.cone1&&this.cone2&&h.current&&(I.push(this.cone0),I.push(this.cone1),I.push(this.cone2),I.push(B)),Object(o.useRef)().current){this.cone0.geometry.computeBoundingSphere();var R=this.cone0.geometry.boundingSphere.center,D=new H.Vector3(R.x,R.y,R.z);X.current.localToWorld(D)}var V=function(e,t){C.current.children[1].geometry.computeBoundingSphere();var n=C.current.children[1].geometry.boundingSphere.center,o=new H.Vector3(n.x,n.y,n.z);C.current.localToWorld(o),e.geometry.computeBoundingSphere(),P[t]=e.geometry.boundinSphere;var a=e.geometry.boundingSphere.center,r=new H.Vector3(a.x,a.y,a.z);return e.localToWorld(r),o.distanceTo(r)},T=!1,Y=0;var N=0;var F=function(t){e.animationLock||(0!==t&&(M=!0),i.rotation.y+=t/1e3,i.rotation.y%=2*Math.PI,e.panoPageStore.updatePegmanOffset(i.rotation.y))};window.addEventListener("mousemove",function(e){if(!T&&C.current){e.preventDefault(),S.x=e.clientX/window.innerWidth*2-1,S.y=-e.clientY/window.innerHeight*2+1,l.setFromCamera(S,i);var t=l.intersectObjects(I);if(t.length>0){var n=t[0];1===t.length?(C.current.visible=!0,C.current.position.copy(n.point).add(new H.Vector3(0,.01,0))):C.current.visible=!1}}},!1),s.addEventListener("mousemove",function(e){return function(e){if(T){e.preventDefault();var t=e.clientX-Y;e.clientY,Y=e.clientX,e.clientY,F(t)}}(e)},!1),s.addEventListener("mousedown",function(e){return(t=e).preventDefault(),T=!0,Y=t.clientX,void t.clientY;var t},!1),s.addEventListener("mouseup",function(e){return e.preventDefault(),T=!1,void(M=!1)},!1),s.addEventListener("touchmove",function(e){return function(e){var t=e.targetTouches[0].pageX-N;N=e.targetTouches[0].pageX,F(t)}(e)},!1),s.addEventListener("touchstart",function(e){N=e.targetTouches[0].pageX},!1),window.addEventListener("resize",function(){r.setSize(s.clientWidth,s.clientHeight),i.aspect=s.clientWidth/s.clientHeight,i.updateProjectionMatrix()},!1),this.eventListenersLoaded||(s.addEventListener("mousewheel",function(t){return e.onScroll(t)},!1),this.eventListenersLoaded=!0);var G=function(t){C.current.visible=!1,!0;var n=e.neighbors.get(t).bearing*Math.PI/180,o=-e.neighbors.get(t).bearing*Math.PI/180;i.rotation.y>0&&(o=2*Math.PI-e.neighbors.get(t).bearing*Math.PI/180),i.rotation.y-o>=Math.PI&&i.rotation.y-o<2*Math.PI?o+=2*Math.PI:i.rotation.y-o<=-Math.PI&&i.rotation.y-o<-2*Math.PI&&(o=-2*Math.PI+o);var a={at:i.rotation.y},r={at:o},s=new Ce.Tween(a).to(r,500).easing(Ce.Easing.Quadratic.InOut);s.onUpdate(function(){i.rotation.y=a.at,e.panoPageStore.updatePegmanOffset(i.rotation.y)}),s.onComplete(function(){i.rotation.y=-e.neighbors.get(t).bearing*Math.PI/180,e.panoPageStore.updatePegmanOffset(i.rotation.y)});var l={zVal:i.position.z,xVal:i.position.x,fovValue:i.fov,opacity:e.cylindermaterial.opacity},u={zVal:-13*Math.cos(n),xVal:13*Math.sin(n),fovValue:65,opacity:.1},m=new Ce.Tween(l).to(u,500);m.onUpdate(function(){i.position.z=l.zVal,i.position.x=l.xVal,i.fov=l.fovValue,i.updateProjectionMatrix(),e.cylindermaterial.opacity=l.opacity}),m.onComplete(Object(k.a)(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.position.set(0,0,0),i.fov=40,i.updateProjectionMatrix(),e.cylindermaterial.map=e.texture,e.cylindermesh.rotation.y=e.currLoc.calibration,e.cylindermaterial.transparent=!1,e.cylindermaterial.opacity=1,c.remove(e.tempcylindermesh),e.tempcylindermesh.geometry.dispose(),e.tempcylindermesh.material.dispose(),e.tempcylindermesh=void 0,e.tempcylindergeometry.scale(-1,1,1),!1,C.current.visible=!0,t.next=16,e.setNeighbors().then(e.RenderArrows);case 16:e.animationLock=!1;case 17:case"end":return t.stop()}},t)}))),s.chain(m),e.cylindermaterial.transparent=!0,s.start()};c.add(this.cylindermesh);var J=function(){var t=Object(k.a)(O.a.mark(function t(o){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.animationLock=!0,e.loaderSpinnerElem.style.visibility="visible",e.panoIdChangeReactionDisposer(),e.neighbors.get(o)){t.next=5;break}return t.abrupt("return");case 5:e.currLoc=e.neighbors.get(o).location,e.texture=e.loader.load(n(50)("./".concat(e.currLoc.fname)),function(){e.loaderSpinnerElem.style.visibility="hidden",e.tempcylindermaterial=new H.MeshBasicMaterial({map:e.texture,side:H.DoubleSide}),e.tempcylindermesh=new H.Mesh(e.tempcylindergeometry,e.tempcylindermaterial),e.tempcylindergeometry.scale(-1,1,1),e.tempcylindermesh.rotation.y=e.currLoc.calibration,c.add(e.tempcylindermesh),G(o);var t=e.currLoc,n=t.coord,a=t.cameraY,r=t.id;e.panoPageStore.updateValues(n.lat,n.lng,a,r),e.setPanoPageStoreIDChangeReaction()},void 0,function(e){console.error(e)});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();this.cone0&&this.cone1&&this.cone2&&this.RenderArrows();var X=Object(o.useRef)(),K=Object(o.useRef)(),q=Object(o.useRef)(),Z=[new H.Vector3(0,1,0),new H.Vector3(-.6,-1,0),new H.Vector3(0,-.5,0),new H.Vector3(.6,-1,0)];function Q(e,t){var n=!0,o=!1,a=void 0;try{for(var r,i=e[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){r.value.material.opacity=t}}catch(c){o=!0,a=c}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}}q.current&&(q.current.vertices=Z,q.current.faces.push(new H.Face3(0,1,2)),q.current.faces.push(new H.Face3(0,2,3)),q.current.computeFaceNormals(),q.current.scale(.3,.3,.3));var _=Object(o.useRef)();return _.current&&_.current.geometry.scale(2,2,2),Object(W.b)(function(){Ce.update(),X.current.position.set(-3*Math.sin(i.rotation.y),-.9,-3*Math.cos(i.rotation.y)),K.current.position.set(-3*Math.sin(i.rotation.y-.4),-.8,-3*Math.cos(i.rotation.y-.4)),K.current.rotation.y=i.rotation.y,K.current.rotation.z=-i.rotation.y,function(){if(C.current){for(var t=[e.cone0,e.cone1,e.cone2],n=new Map,o=0;o<t.length;o++)t[o].parent.visible&&n.set(V(t[o],o),t[o]);var a=Math.min.apply(Math,Object(U.a)(n.keys()));C.current.rotation.z=n.get(a).rotation.z,e.mouseSelectedArrowMesh=n.get(a)}}()}),a.a.createElement(a.a.Fragment,null,a.a.createElement("group",{ref:X,scale:[.2,.2,.2]},a.a.createElement("group",{onPointerOver:function(t){Q(t.object.children,.9),e.toggleCursor(!0)},onPointerOut:function(t){Q(t.object.children,.65),e.toggleCursor(!1)},ref:b},a.a.createElement("mesh",{userData:{neighbor:0},ref:m,geometry:u.hitbox,onClick:function(){e.animationLock||J(e.n0.location.id)}},a.a.createElement("meshBasicMaterial",{attach:"material",color:"blue",opacity:.5,transparent:!0,visible:!1})),a.a.createElement("mesh",{geometry:u.geometry,ref:g},a.a.createElement("meshBasicMaterial",{attach:"material",color:"white",opacity:.65,transparent:!0}))),a.a.createElement("group",{onPointerOver:function(t){Q(t.object.children,.9),e.toggleCursor(!0)},onPointerOut:function(t){Q(t.object.children,.65),e.toggleCursor(!1)},ref:y},a.a.createElement("mesh",{userData:{neighbor:1},ref:p,geometry:u.hitbox,onClick:function(){e.animationLock||J(e.n1.location.id)}},a.a.createElement("meshBasicMaterial",{attach:"material",color:"blue",opacity:.5,transparent:!0,visible:!1})),a.a.createElement("mesh",{geometry:u.geometry,ref:f},a.a.createElement("meshBasicMaterial",{attach:"material",color:"white",opacity:.65,transparent:!0}))),a.a.createElement("group",{onPointerOver:function(t){Q(t.object.children,.9),e.toggleCursor(!0)},onPointerOut:function(t){Q(t.object.children,.65),e.toggleCursor(!1)},ref:E},a.a.createElement("mesh",{userData:{neighbor:2},ref:d,geometry:u.hitbox,onClick:function(){e.animationLock||J(e.n2.location.id)}},a.a.createElement("meshBasicMaterial",{attach:"material",color:"blue",opacity:.5,transparent:!0,visible:!1})),a.a.createElement("mesh",{geometry:u.geometry,ref:v},a.a.createElement("meshBasicMaterial",{attach:"material",color:"white",opacity:.65,transparent:!0})))),a.a.createElement("group",{onPointerOver:function(t){Q(t.object.children,.8),e.toggleCursor(!0)},onPointerOut:function(t){Q(t.object.children,.5),e.toggleCursor(!1)},ref:K,position:[0,0,-3],scale:[.3,.3,.3],visible:!1},a.a.createElement("mesh",{geometry:new H.CircleGeometry(.4,100,0),ref:h},a.a.createElement("meshBasicMaterial",{attach:"material",color:"white",opacity:.5,transparent:!0})),a.a.createElement("mesh",{position:[0,.03,.01]},a.a.createElement("geometry",{attach:"geometry",ref:q}),a.a.createElement("meshBasicMaterial",{attach:"material",color:"red",opacity:.5,transparent:!0}))),a.a.createElement("group",{ref:C,rotation:[-1.5708,0,0]},a.a.createElement("mesh",{geometry:j.geometry,position:[0,.05,.001],scale:[.2,.12,.2]},a.a.createElement("meshBasicMaterial",{attach:"material",color:"grey",opacity:.7,transparent:!0})),a.a.createElement("mesh",{geometry:new H.CircleGeometry(.4,100,0),onPointerUp:function(){M||e.animationLock||function(){var t=[e.n0,e.n1,e.n2][e.mouseSelectedArrowMesh.userData.neighbor].location.id;J(t)}()}},a.a.createElement("meshBasicMaterial",{attach:"material",color:"white",opacity:.7,transparent:!0}))))}},{key:"render",value:function(){return this.state.isLoading?a.a.createElement("div",{className:"spinner-container"},a.a.createElement(Pe,{width:100,height:100})):a.a.createElement("div",{className:"Pano-container"},a.a.createElement("div",{className:"Pano-canvas",style:this.canvasStyle},a.a.createElement(W.a,null,a.a.createElement(this.RenderPano,null))),a.a.createElement("div",null,a.a.createElement(ge,{panoPageStore:this.panoPageStore})),a.a.createElement("div",null,a.a.createElement(Se,{panoPageStore:this.panoPageStore})),a.a.createElement("div",null,a.a.createElement(je,{panoPageStore:this.panoPageStore})),a.a.createElement("div",{id:"trans-spinner",style:{visibility:"hidden"}},a.a.createElement(this.RenderSpinner,null)))}},{key:"panoId",get:function(){return this.props.match.params.id||"20190724143833"}}]),t}(o.Component),Le=Object(d.f)(Ie),ze=(n(158),[{path:"/maps/boston",title:"Boston"},{path:"/maps/concord",title:"Concord"}]),Be=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).gmapComponent=void 0,n.panoComponent=void 0,n.state={renderPano:!0},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(p.a,null,a.a.createElement(y,null,a.a.createElement(x,null,ze.map(function(e){return a.a.createElement(p.b,{to:e.path,key:e.path,activeClassName:"ir-nav-item__active",className:"ir-nav-item"},e.title)})),a.a.createElement(w,null,a.a.createElement(d.b,{path:"/maps/:region"},a.a.createElement(G,null),a.a.createElement(d.b,{path:"/viewPano/:id",component:function(t){return e.state.renderPano?a.a.createElement(Le,t):null}})),a.a.createElement(d.a,{exact:!0,from:"/",to:"/maps/center"}),a.a.createElement(d.a,{exact:!0,from:"/maps",to:"/maps/center"}),a.a.createElement(d.a,{exact:!0,from:"/maps/",to:"/maps/center"}))))}}]),t}(o.Component);i.a.render(a.a.createElement(Be,null),document.getElementById("interface"))}]),[[74,1,2]]]);
//# sourceMappingURL=main.a8fe390c.chunk.js.map